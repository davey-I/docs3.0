<!DOCTYPE html>
<html><head>
<title data-folder-path="/Homelab">servers-homlab</title>
<link href=" ../../static/style.css" rel="stylesheet"/>
<link href="../../prism/prism.css" rel="stylesheet"/>
</head>
<body class="body">
<div class="page-folder-header-div">
<h1 class="pagetitle" data-folder-path="Homelab">servers-homlab</h1>
<a href="./../..">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M3 11L12 4L21 11"></path>
<path d="M5 10V20H19V10"></path>
<path d="M10 20V14H14V20"></path>
</svg>
</a>
</div>
<!-- Sidebar -->
<div class="sidbear-enclosure-open" id="sidbear-enclosure-open-servers-homlab">
<button class="sidbear-enclosure-button-open" id="sidbear-enclosure-button-servers-homlab" onclick="toggle_sidebar()" type="button">
<svg fill="white" height="30" viewBox="0 0 100 80" width="30" xmlns="http://www.w3.org/2000/svg">
<rect height="10" width="100"></rect>
<rect height="10" width="100" y="30"></rect>
<rect height="10" width="100" y="60"></rect>
</svg>
</button>
<div class="sidebar-mainbox-open" id="sidebar-mainbox-servers-homlab">
<div class="sidebar-subbox-open" id="sidebar-subbox-1" onclick=" append_foldable_content()">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<line x1="12" x2="12" y1="8" y2="16"></line>
<line x1="8" x2="16" y1="12" y2="12"></line>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-2">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-3">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
</div>
</div>
<script src="../../prism/prism.js"></script>
<script src="../../static/script.js"></script>
<!--## Clavius #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Clavius">
<h2 class="foldable-title" id="foldable-title-Clavius">Clavius</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Clavius')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('servers-homlab','editable-paragraph-Clavius', 'foldable-content-penButton-Clavius')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Clavius" onclick="add_subdiv('editable-paragraph-Clavius')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Clavius">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Clavius" onclick="save_editable_content('servers-homlab','editable-paragraph-Clavius', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Clavius"><pre><div class="frame">IPv4 address for eno0: 192.168.1.225
IPv6 address for eno0: 2a02:168:4042:0:222:4dff:feac:7981
</div>
</pre>
<!--## youtube-dlp-service-shellscript #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-youtube-dlp-service-shellscript">
<h2 class="foldable-title" id="foldable-title-youtube-dlp-service-shellscript">youtube-dlp-service-shellscript</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('youtube-dlp-service-shellscript')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('servers-homlab','editable-paragraph-youtube-dlp-service-shellscript', 'foldable-content-penButton-youtube-dlp-service-shellscript')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-youtube-dlp-service-shellscript">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-youtube-dlp-service-shellscript" onclick="save_editable_content('servers-homlab','editable-paragraph-youtube-dlp-service-shellscript', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-youtube-dlp-service-shellscript"><html><head></head><body><pre><b># located</b> at <i>~</i>

<h2>Script Features and Behavior</h2>
<pre><code class="lang-bash">
#!/bin/bash

# Check if the correct number of arguments is provided
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <youtube url="">"
    exit 1
fi

URL="$1"

# Set the destination directory for downloads
DEST_DIR="/home/clavi/sambashare/videos/yt-dlp"

# Create the destination directory if it doesn't exist
mkdir -p "$DEST_DIR" || { echo "Failed to create destination directory"; exit 1; }

# Create a temporary directory for the virtual environment
TEMP_DIR=$(mktemp -d) || { echo "Failed to create temporary directory"; exit 1; }
trap 'rm -rf "$TEMP_DIR"' EXIT

cd "$TEMP_DIR" || { echo "Failed to change to temporary directory"; exit 1; }

# Create a Python virtual environment
python3 -m venv venv || { echo "Failed to create virtual environment"; exit 1; }
source venv/bin/activate || { echo "Failed to activate virtual environment"; exit 1; }

# Install yt-dlp
pip install yt-dlp || { echo "Failed to install yt-dlp"; exit 1; }

# Download the video using yt-dlp in mp4 format only
yt-dlp -f "best[ext=mp4]" --merge-output-format mp4 -o "$DEST_DIR/%(title)s.%(ext)s" "$URL" &amp;&amp; echo "Download completed." || echo "Download failed."

</youtube></code>
</pre>

<h4>Execution command:</h4>: <pre><code class="lang-bash">./youtube-slp.sh ${URL}</code></pre>

<h4>Latest Version of yt-dlp</h4>

The script installs the <b>latest</b> version of <b>yt-dlp</b> each time it is run, ensuring access
to the most recent features and bug fixes.

<h4>Temporary Directory for Isolation</h4>

A <b>temporary directory</b> is created using <i>mktemp -d</i>, which prevents conflicts with
other runs and keeps files organized.

<h4>Automatic Cleanup</h4>

The command <i>trap 'rm -rf "$TEMP_DIR"' EXIT</i> ensures that the temporary directory and
all its contents are removed after script execution, maintaining a clean system.

<h2>Summary of Behavior</h2>
<ul>

    <li><b>Run the Script</b>: Each execution installs the <b>latest yt-dlp</b>, downloads the video in <b>.mp4</b>
format, and cleans up temporary files.</li>
    <li><b>Output Behavior</b>: The desired video file ends up in the specified directory, while all other created
files are removed.</li>
</ul>

<h4>Considerations</h4>
<ul>
    <li><b>Performance</b>: Reinstalling <b>yt-dlp</b> each time may slow down execution but ensures the <b>latest</b> version.</li>
    <li><b>Network Dependency</b>: The script requires <b>internet connectivity</b> to download <b>yt-dlp</b> and the video.</li>
</ul>

</pre>

</body></html></div>
</div>
</div>
</div>
</div>
</div>
<!--## HufflePI #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-HufflePI">
<h2 class="foldable-title" id="foldable-title-HufflePI">HufflePI</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('HufflePI')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('servers-homlab','editable-paragraph-HufflePI', 'foldable-content-penButton-HufflePI')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-HufflePI" onclick="add_subdiv('editable-paragraph-HufflePI')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-HufflePI">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-HufflePI" onclick="save_editable_content('servers-homlab','editable-paragraph-HufflePI', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-HufflePI"><pre><div class="frame">IPv4 address for eth0: 192.168.1.146
IPv6 address for eth0: 2a02:168:4042:0:da3a:ddff:fedf:af9d
</div>
</pre></div>
</div>
</div>
<!--## homelab-desktop-pc #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-homelab-desktop-pc">
<h2 class="foldable-title" id="foldable-title-homelab-desktop-pc">homelab-desktop-pc</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('homelab-desktop-pc')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('servers-homlab','editable-paragraph-homelab-desktop-pc', 'foldable-content-penButton-homelab-desktop-pc')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-homelab-desktop-pc" onclick="add_subdiv('editable-paragraph-homelab-desktop-pc')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-homelab-desktop-pc">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-homelab-desktop-pc" onclick="save_editable_content('servers-homlab','editable-paragraph-homelab-desktop-pc', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-homelab-desktop-pc"><h1>Desktop tower-pc</h1>
<div class="foldable-container" id="foldcontainer-desktop-pc-hardware-components">
<h2 class="foldable-title" id="foldable-title-desktop-pc-hardware-components">desktop-pc-hardware-components</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('desktop-pc-hardware-components')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('servers-homlab','editable-paragraph-desktop-pc-hardware-components', 'foldable-content-penButton-desktop-pc-hardware-components')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-desktop-pc-hardware-components">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-desktop-pc-hardware-components" onclick="save_editable_content('servers-homlab','editable-paragraph-desktop-pc-hardware-components', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-desktop-pc-hardware-components"><pre><h4>GPU</h4>: NVIDIA GeForce RTX 3070

<h4>CPU</h4>: AMD Ryzen 5 5500, AM4, 3.60 GHz, 6-Core 
                            
<h4>Disks</h4>: NVMe, WD <span class="highlighterblue">Blue</span> SN570 (1TB)

<h4>Memory</h4>: G.Skill Aegis: 2x8GB, 3200 MHz, DDR4, DIMM

<h4>Netzteil</h4>: be quiet! System Power 9, 700W
</pre></div>
</div>
</div>
<!--## problem-slow-steam-download #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-problem-slow-steam-download">
<h2 class="foldable-title" id="foldable-title-problem-slow-steam-download">problem-slow-steam-download</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('problem-slow-steam-download')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('servers-homlab','editable-paragraph-problem-slow-steam-download', 'foldable-content-penButton-problem-slow-steam-download')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-problem-slow-steam-download">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-problem-slow-steam-download" onclick="save_editable_content('servers-homlab','editable-paragraph-problem-slow-steam-download', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-problem-slow-steam-download"><pre>With the 
NVMe, WD Blue SN570 (1TB)
 nvme disk setup, large steam downloads
started at fast speed, but after short time dropped significantely. Heres why..


<h2>DRAM-less SSDs vs. DRAM-equipped SSDs</h2>

Most high-performance SSDs have a small DRAM cache. This cache stores the mapping table
— a structure that maps logical block addresses (LBAs) used by your OS to the physical locations
of data on the NAND flash.

- On a DRAM-equipped SSD, the drive can instantly look up where data
  is stored or where new data should be written.

- On a DRAM-less SSD like the SN570, there’s no dedicated DRAM.
  Instead, it uses a small portion of system RAM (HMB – Host Memory Buffer)

  to store this mapping. In your case, 64 MB HMB.


<h2>What happens during large file writes/downloads</h2>

When you download a big game from Steam:

1. Steam writes hundreds of GB of files to disk.

2. Each write needs the SSD controller to find a free NAND block, possibly erase it
first (because NAND must be erased before being rewritten), and update the mapping table.

3. On a DRAM-less drive:

- The mapping table is too large to fit entirely in the small HMB.

- Some lookups require going to NAND to read the mapping (slower than DRAM).

- This increases latency, especially when writing large sequential or semi-random files.

<h2>HMB limitations</h2>

- 64 MB HMB is tiny. For a 1 TB drive, the mapping table alone can be hundreds of MB to GB.
  So our drive frequently has to fetch mapping info from the NAND itself.

- This causes write amplification and slowdowns, particularly for large sequential writes like
  downloading multi-GB games.

</pre></div>
</div>
</div>
</div>
</div>
</div>
</body></html><!--## desktop-pc-hardware-components #################################################################################################################-->