<!DOCTYPE html>

<html>
<head>
<title data-folder-path="/Mail">setup-smtp</title>
<link href=" ../../static/style.css" rel="stylesheet"/>
<link href="../../prism/prism.css" rel="stylesheet"/>
</head>
<body class="body">
<div class="page-folder-header-div">
<h1 class="pagetitle" data-folder-path="Mail">setup-smtp</h1>
<a href="./../..">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M3 11L12 4L21 11"></path>
<path d="M5 10V20H19V10"></path>
<path d="M10 20V14H14V20"></path>
</svg>
</a>
</div>
<!-- Sidebar -->
<div class="sidbear-enclosure-open" id="sidbear-enclosure-open-setup-smtp">
<button class="sidbear-enclosure-button-open" id="sidbear-enclosure-button-setup-smtp" onclick="toggle_sidebar()" type="button">
<svg fill="white" height="30" viewbox="0 0 100 80" width="30" xmlns="http://www.w3.org/2000/svg">
<rect height="10" width="100"></rect>
<rect height="10" width="100" y="30"></rect>
<rect height="10" width="100" y="60"></rect>
</svg>
</button>
<div class="sidebar-mainbox-open" id="sidebar-mainbox-setup-smtp">
<div class="sidebar-subbox-open" id="sidebar-subbox-1" onclick=" append_foldable_content()">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<line x1="12" x2="12" y1="8" y2="16"></line>
<line x1="8" x2="16" y1="12" y2="12"></line>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-2">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-3">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
</div>
</div>
<script src="../../prism/prism.js"></script>
<script src="../../static/script.js"></script>
<!--## connection-testing #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-connection-testing">
<h2 class="foldable-title" id="foldable-title-connection-testing">connection-testing</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('connection-testing')" type="button">
    <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
        <path d="M7 10l5 5 5-5H7z"/>
      </svg>
         </button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('setup-smtp','editable-paragraph-connection-testing', 'foldable-content-penButton-connection-testing')" type="button">EDITMODE</button>
<button class="create-subdiv" id="create-subdiv-connection-testing" onclick="add_subdiv('editable-paragraph-connection-testing')" type='*button"'> ADD DIV </button>
<div class="foldable-content folded" id="foldable-content-connection-testing">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-connection-testing" onclick="save_editable_content('setup-smtp','editable-paragraph-connection-testing', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-connection-testing">
<div class="foldable-container" id="foldcontainer-openssl s_client">
<h2 class="foldable-title" id="foldable-title-openssl s_client">openssl s_client</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('openssl s_client')" type="button">
    <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
        <path d="M7 10l5 5 5-5H7z"/>
      </svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('setup-smtp','editable-paragraph-openssl s_client', 'foldable-content-penButton-openssl s_client')" type="button">EDITMODE</button>
<div class="foldable-content folded" id="foldable-content-openssl s_client">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-openssl s_client" onclick="save_editable_content('setup-smtp','editable-paragraph-openssl s_client', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-openssl s_client"><h3>openssl s_client tool</h3>
<ul>
<li> If we want to test TLS, especially STARTTLS we can use the <b>s_client</b> tool </li><br/>
<li>Documentation at : <a href="https://docs.openssl.org/1.0.2/man1/s_client/">openssl_docs</a></li><br/>
<li> Base command: <b>openssl s_client -connect vsp1.example.local:25 -starttls smtp</b> </li><br/>
<li> It might be necesarry to ad the option <b>-crlf</b> this option translated a line feed from the<br/>
terminal into CR+LF as required by some servers.
</li><br/>
<li> Two examples: where <b>one server supports starttls</b> and one <b>does not</b></li><br/>
</ul>
<!--Prism bash pretyfier code example-->
    <pre>
        <code class="lang-bash">
            # openssl s_client -connect vsp1.example.local:25 -starttls smtp -crlf
(cut)
CONNECTED(00000003)
didn't found starttls in server response, try anyway...
139702030079656:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:s23_clnt.c:774:
---
no peer certificate available
---
No client certificate CA names sent
---
SSL handshake has read 177 bytes and written 325 bytes
---
New, (NONE), Cipher is (NONE)
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE        
        </code>
    </pre>
<!--Prism bash pretyfier code example-->
    <pre>
        <code class="lang-bash">
            # openssl s_client -connect vsp2.example.local:25 -starttls smtp -crlf
(cut)
SSL-Session:
Protocol : TLSv1.2
Cipher : ECDHE-RSA-AES256-GCM-SHA384
Session-ID: 140C627F8364C06E74204CEBA31057415B1A24EC2E5D9B996C6F3277DB18F364
Session-ID-ctx:
Master-Key: C565114C052EDA50B176EA7962F415C3E2BD8A0FC62E243C592BB72164AAAE9625CE80EE81BF88FD8C480EAC4E20A74C
Key-Arg : None
PSK identity: None
PSK identity hint: None
SRP username: None
TLS session ticket lifetime hint: 300 (seconds)
TLS session ticket:
0000 - 73 04 63 bd 84 16 fd e4-a0 93 26 e0 71 3c 08 0b s.c.......&amp;.qV)v.........
0070 - 19 08 d1 c2 14 ee da 69-cc 85 77 f6 13 39 3c f9 .......i..w..9&lt;.
0080 - 8b 60 38 67 3c e9 f3 18-08 20 f6 1c 10 16 77 7f .`8gV.../..


Start Time: 1474028496
Timeout : 300 (sec)
Verify return code: 18 (self signed certificate)       
        </code>
    </pre>
<!--## openssl s_client #################################################################################################################-->
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
