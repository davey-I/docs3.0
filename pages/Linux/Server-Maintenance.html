<!DOCTYPE html>

<html>
<head>
<title data-folder-path="/Linux">Server-Maintenance</title>
<link href=" ../../static/style.css" rel="stylesheet"/>
<link href="../../prism/prism.css" rel="stylesheet"/>
</head>
<body class="body">
<div class="page-folder-header-div">
<h1 class="pagetitle" data-folder-path="Linux">Server-Maintenance</h1>
<a href="./../..">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M3 11L12 4L21 11"></path>
<path d="M5 10V20H19V10"></path>
<path d="M10 20V14H14V20"></path>
</svg>
</a>
</div>
<!-- Sidebar -->
<div class="sidbear-enclosure-open" id="sidbear-enclosure-open-Server-Maintenance">
<button class="sidbear-enclosure-button-open" id="sidbear-enclosure-button-Server-Maintenance" onclick="toggle_sidebar()" type="button">
<svg fill="white" height="30" viewbox="0 0 100 80" width="30" xmlns="http://www.w3.org/2000/svg">
<rect height="10" width="100"></rect>
<rect height="10" width="100" y="30"></rect>
<rect height="10" width="100" y="60"></rect>
</svg>
</button>
<div class="sidebar-mainbox-open" id="sidebar-mainbox-Server-Maintenance">
<div class="sidebar-subbox-open" id="sidebar-subbox-1" onclick=" append_foldable_content()">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<line x1="12" x2="12" y1="8" y2="16"></line>
<line x1="8" x2="16" y1="12" y2="12"></line>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-2">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-3">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
</div>
</div>
<script src="../../prism/prism.js"></script>
<script src="../../static/script.js"></script>
<!--## Disk-Space-Issues #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Disk-Space-Issues">
<h2 class="foldable-title" id="foldable-title-Disk-Space-Issues">Disk-Space-Issues</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Disk-Space-Issues')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Server-Maintenance','editable-paragraph-Disk-Space-Issues', 'foldable-content-penButton-Disk-Space-Issues')" type="button">EDITMODE</button>
<button class="create-subdiv" id="create-subdiv-Disk-Space-Issues" onclick="add_subdiv('editable-paragraph-Disk-Space-Issues')" type='*button"'><svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Disk-Space-Issues">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Disk-Space-Issues" onclick="save_editable_content('Server-Maintenance','editable-paragraph-Disk-Space-Issues', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Disk-Space-Issues"><h1>Helpful Tips With Full Disk Issues</h1>
<!--## Find-Cluttered-Folders #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Find-Cluttered-Folders">
<h2 class="foldable-title" id="foldable-title-Find-Cluttered-Folders">Find-Cluttered-Folders</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Find-Cluttered-Folders')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Server-Maintenance','editable-paragraph-Find-Cluttered-Folders', 'foldable-content-penButton-Find-Cluttered-Folders')" type="button">EDITMODE</button>
<div class="foldable-content folded" id="foldable-content-Find-Cluttered-Folders">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Find-Cluttered-Folders" onclick="save_editable_content('Server-Maintenance','editable-paragraph-Find-Cluttered-Folders', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Find-Cluttered-Folders"><li> Once logged into the server execute a <b>df -hT</b> to get an overview 
this might then give back something like:
</li><br/>
<!--Prism bash pretyfier code example-->
    <pre>
        <code class="lang-bash">
Filesystem     Type      Size  Used Avail Use% Mounted on
udev           devtmpfs  2.4G     0  2.4G   0% /dev
tmpfs          tmpfs     480M  556K  479M   1% /run
/dev/sdb2      btrfs     8.6G  5.1G  3.1G  63% /
tmpfs          tmpfs     2.4G     0  2.4G   0% /dev/shm
tmpfs          tmpfs     5.0M     0  5.0M   0% /run/lock
/dev/sdb1      vfat      511M  5.9M  506M   2% /boot/efi
/dev/sda       btrfs      20G   20G  686M  97% /var/lib/gerrit-data
tmpfs          tmpfs     480M     0  480M   0% /run/user/0
tmpfs          tmpfs     480M     0  480M   0% /run/user/1000       
        </code>
 </pre><br/>
<li> To get a more detailed insight of what is taking up so much space<br/>
       in <b>/var/lib/gerrit-data</b>, we can use <b>sudo ncdu /var/lib/gerrit-data</b>
</li><br/>
<li> This opens a new UI that shows a nice visualization of the space usage</li><br/>
<li> We can now delete certain files or folders directly with <b>ncdu</b> or use <b>find</b></li><br/></div>
</div>
</div>
<!--## Delete-Multiple-Files-With-Find #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Delete-Multiple-Files-With-Find">
<h2 class="foldable-title" id="foldable-title-Delete-Multiple-Files-With-Find">Delete-Multiple-Files-With-Find</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Delete-Multiple-Files-With-Find')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Server-Maintenance','editable-paragraph-Delete-Multiple-Files-With-Find', 'foldable-content-penButton-Delete-Multiple-Files-With-Find')" type="button">EDITMODE</button>
<div class="foldable-content folded" id="foldable-content-Delete-Multiple-Files-With-Find">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Delete-Multiple-Files-With-Find" onclick="save_editable_content('Server-Maintenance','editable-paragraph-Delete-Multiple-Files-With-Find', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Delete-Multiple-Files-With-Find">If we have a lot of files or folders that need to be deleted, but also others that should stay<br/>
it can be tedious to do that manual one by one. If we can identify some difference between<br/>
the file we need to delete and those who should not be deleted, we can use <b>find</b>.<br/>
<h3>Do a testrun first !</h3>
<li> For ex: We identified, that all <b>folders</b> ending with <b>_app</b> need to be deleted<br/>
     And these folders contain subfolders and files inside.
</li><br/>
<li> We can run the following testcommand, to check what files would be taken by <b>find</b> 


<!--Prism bash pretyfier code example-->
    <pre>
        <code class="lang-bash">
            find /path/to/your/folder -type d -name '*_app'        
        </code>
 </pre>
</li>
<h3>Delete files</h3>
<li>If we are sure about the file we can add adjust the <b>find</b> command like this:<br/>
<!--Prism bash pretyfier code example-->
    <pre>
        <code class="lang-bash">
# if we want to delete folders that contain subfolders and files
find /path/to/your/folder -type d -name '*_app' -exec rm -r {} +


# if we want to delete only files 
find /path/to/your/folder -type f -name '*_app'
        </code>
 </pre>
</li><br/></div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
