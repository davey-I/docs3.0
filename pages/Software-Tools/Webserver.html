<!DOCTYPE html>
<html><head>
<title data-folder-path="/Software-Tools">Webserver</title>
<link href=" ../../static/style.css" rel="stylesheet"/>
<link href="../../prism/prism.css" rel="stylesheet"/>
</head>
<body class="body">
<div class="page-folder-header-div">
<h1 class="pagetitle" data-folder-path="Software-Tools">Webserver</h1>
<a href="./../..">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M3 11L12 4L21 11"></path>
<path d="M5 10V20H19V10"></path>
<path d="M10 20V14H14V20"></path>
</svg>
</a>
</div>
<!-- Sidebar -->
<div class="sidbear-enclosure-open" id="sidbear-enclosure-open-Webserver">
<button class="sidbear-enclosure-button-open" id="sidbear-enclosure-button-Webserver" onclick="toggle_sidebar()" type="button">
<svg fill="white" height="30" viewBox="0 0 100 80" width="30" xmlns="http://www.w3.org/2000/svg">
<rect height="10" width="100"></rect>
<rect height="10" width="100" y="30"></rect>
<rect height="10" width="100" y="60"></rect>
</svg>
</button>
<div class="sidebar-mainbox-open" id="sidebar-mainbox-Webserver">
<div class="sidebar-subbox-open" id="sidebar-subbox-1" onclick=" append_foldable_content()">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<line x1="12" x2="12" y1="8" y2="16"></line>
<line x1="8" x2="16" y1="12" y2="12"></line>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-2">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-3">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
</div>
</div>
<script src="../../prism/prism.js"></script>
<script src="../../static/script.js"></script>
<!--## Webservers-NGINX #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Webservers-NGINX">
<h2 class="foldable-title" id="foldable-title-Webservers-NGINX">Webservers-NGINX</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Webservers-NGINX')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-Webservers-NGINX', 'foldable-content-penButton-Webservers-NGINX')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Webservers-NGINX" onclick="add_subdiv('editable-paragraph-Webservers-NGINX')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Webservers-NGINX">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Webservers-NGINX" onclick="save_editable_content('Webserver','editable-paragraph-Webservers-NGINX', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Webservers-NGINX"><h1>Pitfalls</h1>
<pre><h3> index directive </h3>
- always add a index directive like:
<pre><code class="lang-bash">index index.html index.htm index.nginx-debian.html;</code></pre>
otherwise you probably get a <b>403</b> back because Nginx searches in <b>/</b> of whatever is
defined in <i>root /var/www/html;</i> and has no permission.
</pre>
<div class="foldable-container" id="foldcontainer-nginx-configfile">
<h2 class="foldable-title" id="foldable-title-nginx-configfile">nginx-configfile</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('nginx-configfile')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-nginx-configfile', 'foldable-content-penButton-nginx-configfile')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-nginx-configfile">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-nginx-configfile" onclick="save_editable_content('Webserver','editable-paragraph-nginx-configfile', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-nginx-configfile"><pre>The location of the config file will depend on how Nginx was installed.
On many Linux distributions, the file will be located at <i>/etc/nginx/nginx.conf/</i>.
If it does not exist there, it may also be at <i>/usr/local/nginx/conf/nginx.conf/</i> or
<i>/usr/local/etc/nginx/nginx.conf.</i>

<div class="frame">(<strong class="highlighterred">T</strong>): Means, Tocco-Config uses this</div>

<h3>Structure</h3>
- organized in a <b>tree-like structure</b>, marked by sets of brackets <b>{ }</b>

- areas that these brackets define are called <b>“contexts”</b>

- contexts can be <b>layered within</b> one another ( inheritance ) a
declaration in a broader context will be passed on to any child contexts
as default values. The <b>child contexts can override</b> these values.

<h3>Core Contexts</h3>
Contexts that make up the major structure of an Nginx configuration.

<h4 class="highlighteryellow">main/global context</h4>

- Is <b>not</b> inside a pair of {}, basically all the content that is
outside of any bracket.

- represents the broadest environment for Nginx config

- used to configure details that affect the entire application

- While the directives in this section affect the lower contexts, many of these cannot
be overridden in lower levels


Common details configured in the main context:
- system user and group to run the worker processes as (<strong class="highlighterred">T</strong>&gt;)
- the number of workers
- file to save the main Nginx process’s ID. (<strong class="highlighterred">T</strong>)
- default error file for the entire application (<strong class="highlighterred">T</strong>)

<h3 class="highlighteryellow">events context</h3>(<strong class="highlighterred">T</strong>)

- used to set global options that affect how Nginx handles
connections at a general level


- There can only be a <b>single events</b> context defined within
the Nginx <b>main configuration.</b>


- Determine how worker processes should handle connections
  directives found here are used to either <b>select</b> the connection
  processing technique used, or to <b>modify</b>
  the way these methods are implemented.

<h4>Directives in this Block</h4>
There are only a handful of directives in the events block ...

<strong class="highlighterorange">worker_connections</strong>:

- <b>worker_connections</b>:
   sets the max. number of connections each worker process can handle simultaneously.
   so for ex. if we configured Nginx to use <b>4 worker processes</b>, and <b>worker_connections 1024;</b>
   the theoretical max number of concurrent connections is: <b>4096</b>
   (4 workers × 1024 connections = 4096 connections)

- <b>connection processing method</b> is automatically selected based on
  the <b>most efficient</b> choice that the platform has available.
  For Linux systems, the <b>epoll method</b> is usually the best choice

<h4 class="highlighteryellow">http context</h4> (<strong class="highlighterred">T</strong>)


Defining an HTTP context is probably the most common use of Nginx.
and will therefore hold the majority of the configuration.
The http context is a sibling of the events context, so they should be listed
side-by-side, rather than nested. They both are children of the main context.

- contain all of the directives and other contexts necessary to define how the program will
handle HTTP or HTTPS connections and directives at this level control the defaults for
every virtual server defined within, if not specified further in lower context.

-  
</pre></div>
</div>
</div>
</div>
</div>
</div>
<!--## Webservers-Apache #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Webservers-Apache">
<h2 class="foldable-title" id="foldable-title-Webservers-Apache">Webservers-Apache</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Webservers-Apache')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-Webservers-Apache', 'foldable-content-penButton-Webservers-Apache')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Webservers-Apache" onclick="add_subdiv('editable-paragraph-Webservers-Apache')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Webservers-Apache">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Webservers-Apache" onclick="save_editable_content('Webserver','editable-paragraph-Webservers-Apache', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Webservers-Apache"><h1>Apache2 Webserver Stuff</h1>
<pre>httpd is a <b>modular server</b>. This implies that only the most basic functionality
is included in the core server. Extended features are available through modules which
can be loaded into httpd. By default, a <a href="https://httpd.apache.org/docs/2.4/mod/module-dict.html#Status">base</a> set of modules is included in the server at compile-time.
</pre>
<!--## Webserver-Apache-Sites-Enabled-Sites-Available #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Webserver-Apache-Sites-Enabled-Sites-Available">
<h2 class="foldable-title" id="foldable-title-Webserver-Apache-Sites-Enabled-Sites-Available">Webserver-Apache-Sites-Enabled-Sites-Available</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Webserver-Apache-Sites-Enabled-Sites-Available')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-Webserver-Apache-Sites-Enabled-Sites-Available', 'foldable-content-penButton-Webserver-Apache-Sites-Enabled-Sites-Available')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Webserver-Apache-Sites-Enabled-Sites-Available">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Webserver-Apache-Sites-Enabled-Sites-Available" onclick="save_editable_content('Webserver','editable-paragraph-Webserver-Apache-Sites-Enabled-Sites-Available', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Webserver-Apache-Sites-Enabled-Sites-Available"><pre><h3>Why are there /sites-available and /sites-enabled in the VHOST settings?</h3>



- <b>sites-enabled</b>, contains entries with links to those sites in sites-available that 
   have been <b>configured</b> and should also be <b>currently online</b>.



- If a site is <b>only available in sites-available</b>, its entire configuration etc. is still 
  available and you can create a link entry in sites-enabled with a simple
  "add2site " (not eactl called that but similar) command and put the site online again.



- Therefore, <b>sites-enabled is  like an intermediate point</b>, e.g. if a page should not
   be displayed, but not immediately the whole page should be completely deleted/removed,
   just as the name "Enabled" says a kind of on/off function
</pre></div>
</div>
</div>
<div class="foldable-container" id="foldcontainer-a2enmod">
<h2 class="foldable-title" id="foldable-title-a2enmod">a2enmod</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('a2enmod')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-a2enmod', 'foldable-content-penButton-a2enmod')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-a2enmod">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-a2enmod" onclick="save_editable_content('Webserver','editable-paragraph-a2enmod', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-a2enmod"><pre>- <b>a2enmod</b> is a command line utility available on Debian-based distributions
 It doesn’t “compile” or “install” modules, it only enables them.


- Real modules are shipped as .load and .conf files in <b>/etc/apache2/mods-available/</b>


- In the background is a script that enables the specified module within the apache2 configuration.  It does this by
  creating symlinks within <b>/etc/apache2/mods-enabled</b>.  Likewise, <i>a2dismod</i> disables  a  module  by  removing
  those  symlinks.  It is not an error to enable a module which is already enabled, or to disable one which
  is already disabled.


<div class="frame">
<h4>Example: a2enmod proxy</h4>
- If we run the command from above, the script searches for preocy.load (and optionally proxy.conf) in
 <b>/etc/apache2/mods-available/</b>


- a2enmodthen creates symlinks in <b>/etc/apache2/mods-enabled/</b>
</div>
</pre></div>
</div>
</div>
<!--## vhosts #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-vhosts">
<h2 class="foldable-title" id="foldable-title-vhosts">vhosts</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('vhosts')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-vhosts', 'foldable-content-penButton-vhosts')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-vhosts">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-vhosts" onclick="save_editable_content('Webserver','editable-paragraph-vhosts', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-vhosts"><pre>Details - <a href="https://httpd.apache.org/docs/2.4/de/vhosts/">apache.org</a>


<b>Vhost</b> Bezeichnet die Praxis, mehr als ein Webangebot (z.B. www.company1.com und www.company2.com) 
auf einer einzigen Maschine zu betreiben


Vhosts sind entweder:
<ul>
<li>IP-basiert, was bedeutet, dass jedes Webangebot eine andere IP besitzt
</li><li>Namens-basiert, was bedeutet, dass unter jeder IP-Adresse mehrere Namen laufen.
</li></ul>


The fact that several websites run on the same physical server is not obvious to
end users.


<h3>vhost definition</h3>
<b>&lt;virtualhost <i>*</i>:80&gt;</b>


Defines a virtual host in Apache.


- <i>*</i> = listen on all network <i>interfaces</i> of the server (0.0.0.0).


-  <b>:80</b> = this vhost listens on port 80, the standard HTTP port.


- Everything between &lt;virtualhost&gt; and &lt;/virtualhost&gt; applies to requests coming to this port.


<h3>Directives / Direktiven </h3>


<h4>ServerName / ServerAlias</h4>
<b>ServerName <i>myapp.local</i></b>
<b>ServerAlias</b> <i class="highlighterorange&gt;*.myapp.local&lt;/i&gt;&lt;/b&gt; Defines the hostname this &lt;strong&gt;vhost responds&lt;/strong&gt; to.. When a request comes to the server, Apache checks the &lt;b&gt;ServerName&lt;/b&gt; and &lt;i class=" highlighterorange="">*.myapp.local</i>


directives in the virtual host configurations to determine which configuration to use.


In Apache, ServerName and ServerAlias directives are used in the server configuration to define how the server
should respond to different hostnames or domain names. These directives are essential for virtual host configurations,
allowing the server to handle multiple websites or domains on a single server.



When a request comes to the server, Apache checks the ServerName and ServerAlias directives in the virtual host
configurations to determine which configuration to use.



If the requested hostname matches the ServerName or any of the ServerAlias values in a virtual host block, Apache
will use that virtual host configuration to serve the request.



If the request doesn't match any ServerName or ServerAlias in the virtual host configurations, Apache will use the
default virtual host (the one defined first in the configuration) or the one associated with the main server.


- Apache will match requests based on the Host: header from the client..


-  If we setup, <i>myapp.local</i>, mapped to 127.0.0.1 in 
 <span class="highlighterorange">/etc/hosts</span> so the browser knows where to send the request.


- <strong>Only</strong> requests to <i>myapp.local</i> will use this vhost.


<h4>ProxyPass</h4>
<b>ProxyPass <b>/</b> <i>http://localhost:5000/</i></b>


Defines the <strong>core reverse proxy directive</strong>.
ProxyPass &lt;path&gt; &lt;backend&gt; tells Apache:


<li>All requests matching &lt;path&gt; (here /, meaning everything)</li>
<li>Should be forwarded to &lt;backend&gt; (http://localhost:5000/).</li>


- So, if you visit http://myapp.local/index.html in the browser, Apache forwards
 the request to http://localhost:5000/index.html.


<h4> ProxyPassReverse</h4>
<b> ProxyPassReverse <b>/</b> <i>http://localhost:5000/</i></b>


- Handles responses from the backend that contain redirects or Location: headers


- For example, if the backend responds with Location: http://localhost:5000/login,
 Apache rewrites it to http://myapp.local/login before sending it to the client.


- Ensures the client sees URLs for the proxy, not the backend.
</pre></div>
</div>
</div>
<!--## http-request-handling-detail #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-http-request-handling-detail">
<h2 class="foldable-title" id="foldable-title-http-request-handling-detail">http-request-handling-detail</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('http-request-handling-detail')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-http-request-handling-detail', 'foldable-content-penButton-http-request-handling-detail')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-http-request-handling-detail">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-http-request-handling-detail" onclick="save_editable_content('Webserver','editable-paragraph-http-request-handling-detail', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-http-request-handling-detail"><pre>http request handling in by apache example with curl request



<h4>How does Apache determine which VHOST config to use</h4>
- if we do a <b>curl -v https://example.com</b>, we see these headers:


  * Host example.com:443 was resolved.
  * [HTTP/2] [1] [:authority: example.com]&gt;


- With the help of these and the <i>ServerName and ServerAlias</i>
 the Webserver is able to determine which Vhost-Config should be
 used for the incoming request, if any at all.  
</pre></div>
</div>
</div>
<!--## apache-modsecurity #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-apache-modsecurity">
<h2 class="foldable-title" id="foldable-title-apache-modsecurity">apache-modsecurity</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('apache-modsecurity')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-apache-modsecurity', 'foldable-content-penButton-apache-modsecurity')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-apache-modsecurity">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-apache-modsecurity" onclick="save_editable_content('Webserver','editable-paragraph-apache-modsecurity', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-apache-modsecurity"><pre>Check: <a href="../Security/Security-WAF.html">This Section</a>
</pre></div>
</div>
</div>
<!--## config-files #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-config-files">
<h2 class="foldable-title" id="foldable-title-config-files">config-files</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('config-files')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-config-files', 'foldable-content-penButton-config-files')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-config-files">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-config-files" onclick="save_editable_content('Webserver','editable-paragraph-config-files', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-config-files"><pre><a href="https://httpd.apache.org/docs/2.4/configuring.html">Full Documentation</a>
- configurations are placed in plain text configuration files.
  The main configuration file is usually called <b>httpd.conf</b>
   location of this file is set at compile-time, but may be overridden
  with the <b>-f</b> command line flag. Configchanges are only recognized
  by httpd when it is <b>started or restarted</b>


<h4>Include directive,</h4>
   <b>Include directives</b> and <b>wildcards</b> can be used to
   include many configuration files.<b>Any directive may be placed
   in any of these configuration</b>


<h4>mime types</h4>
- The server also reads a file containing mime document types
  this is defined by the <b>TypesConfig directive</b> and is
  <b>mime.types by default.</b> More details about that: <a href="./Webserver.html">at Webservers-Apache/mime-types</a>


<h4>Syntax</h4>
- one directive per line. The backslash "\" may be used as the last
  character on a line to indicate that the directive continues onto
  the next line, <b>no other char or whitespace allowed between the
  backslash and the end of the line.</b>


- <b>White space</b> occurring before a directive is ignored, so you may indent
  directives for clarity. <b>Blank lines</b> are also ignored. <b>Arguments</b> to directives
  are separated by whitespace. If an <b>argument contains spaces</b>, you must
  enclose that argument in quotes.


- <b>Directives</b> in the configuration files are <b>case-insensitive</b>
  but <i>arguments</i> to directives are often <i>case sensitive</i>


- You can check your configuration files for syntax errors without starting
  the server by using <pre><code class="lang-bash">apachectl configtest</code></pre>


<h4>Scope of directives</h4>
Directives placed in the main configuration files <b>apply to the entire server</b>.
Scope can be restricted further by using one of these: 
<i>&lt;Directory&gt;, &lt;DirectoryMatch&gt;, &lt;Files&gt;, &lt;FilesMatch&gt;, &lt;Location&gt;, &lt;LocationMatch&gt;</i>


httpd has the capability to serve many different websites simultaneously. This is
called <b>Virtual Hosting</b>. Directives can also be scoped by placing them inside
<i>&lt;VirtualHost&gt;</i> sections, so that they will only apply to requests
for a particular website.


<div class="frame">Although most directives can be placed in any of these sections,
some directives <strong>do not make sense</strong> in some contexts.</div>


<h4>.htaccess Files</h4>
You can also put configuration files directly inside your website folders,
and Apache will read and apply them automatically. This "special file" is called
<b>.htaccess</b>.


<div class="frame">Since .htaccess files are read on every request,
changes made in these files take <b>immediate effect</b>.</div>


Instead of having ALL configuration in one central place
(/etc/apache2/apache2.conf), you can do this:


<pre><code class="lang-bash">
/var/www/mysite/
├── index.html
├── images/
│ └── .htaccess ← Config for just this folder
└── admin/
└── .htaccess ← Different config for admin area
</code>
</pre>


<strong class="highlighterpurple">What you can do with <b>.htaccess</b>:</strong>
- Password protect specific directories
- Rewrite URLs (e.g., make /product/123 work instead of /product.php?id=123)
- Block/allow certain IP addresses
- Custom error pages (404, 500, etc.)
- Enable/disable directory listings
- Set caching rules


<strong class="highlighterpurple">Downside:</strong>
<b>.htaccess</b> files have a performance cost - Apache has to check every directory for these
files on every request. For high-traffic sites, it's better to put everything in the main
config and disable <b>.htaccess with AllowOverride None</b>.
</pre></div>
</div>
</div>
<!--## config-sections #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-config-sections">
<h2 class="foldable-title" id="foldable-title-config-sections">config-sections</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('config-sections')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-config-sections', 'foldable-content-penButton-config-sections')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-config-sections">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-config-sections" onclick="save_editable_content('Webserver','editable-paragraph-config-sections', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-config-sections"><pre><h4>Evaluation</h4>
Most containers are evaluated for each request. The enclosed directives
are applied only for those requests that match the containers.

<span class="highlightergreen">&lt;IfDefine&gt;, &lt;IfModule&gt;, and &lt;IfVersion&gt;</span> containers,
on the other hand, are evaluated <b>only at server startup</b> and <b>restart</b>
If their conditions are true at startup, then the enclosed directives
will apply to all requests. If the conditions are not true, the enclosed
directives will be ignored

<span class="highlightergreen">&lt;IfDefine&gt;, &lt;IfModule&gt;, and &lt;IfVersion&gt;</span> can apply
negative conditions by preceding their test with <b>"!"</b>

<h4>IFDefine</h4>
The <span class="highlightergreen">&lt;IfDefine&gt;</span> directive encloses directives that will only be applied
if an appropriate parameter is defined on the httpd command line. For example, with the following configuration,
all requests will be redirected to another site only if the server is started using httpd <b>-DClosedForNow</b>:
<pre><code class="lang-html">
&lt;IfDefine ClosedForNow&gt;
    Redirect "/" "http://otherserver.example.com/"
&lt;/IfDefine&gt;
</code>
</pre>

<h4>IfModule</h4>
Encloses directives that will only be applied if a particular module is available in the server.
only use if you need your configuration file to work whether or not certain modules are installed.
should not be used to enclose directives that you want to work all the time, because it can suppress
useful error messages about missing modules

In the following example, the <span class="highlightergreen">MimeMagicFile</span> directive will be applied only if <b>mod_mime_magic</b> is available.
<pre><code class="lang-html">
&lt;IfModule mod_mime_magic.c&gt;
     MimeMagicFile "conf/magic"
&lt;/IfModule&gt;
</code>
</pre>

<h4>Ifversion</h4>
Encloses directives that will only be applied if a particular version of the server is executing. Designed for the use in test suites and large networks
which have to deal with different httpd versions and different configurations
<pre><code class="lang-html">
&lt;IfVersion &gt;= 2.4&gt;

# this happens only in versions greater or
# equal 2.4.0.
&lt;/IfVersion&gt;
</code>
</pre>

</pre></div>
</div></div>
<!--## mime-types #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-mime-types">
<h2 class="foldable-title" id="foldable-title-mime-types">mime-types</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('mime-types')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-mime-types', 'foldable-content-penButton-mime-types')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-mime-types">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-mime-types" onclick="save_editable_content('Webserver','editable-paragraph-mime-types', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-mime-types"><html><head></head><body><pre>In generall, The <b>character</b> set, <b>language</b>, <b>encoding</b> and <strong class="highlighterblue">mime type</strong> are
all used in the process of <b>content negotiation</b> to determine which
document to give to the client, when there are alternative documents in more
than one character set, language, encoding or mime type.
More Infos about content negotiation: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/Content_negotiation">mdn-content-negotiation</a>

Apache2 server also reads a file containing mime document types;
the filename is set by the <b>TypesConfig directive</b>, and is
mime.types by default.

<h4>..is mime.types by default" means:</h4>
- Apache2 looks for a file called mime.types
(usually in /etc/apache2/ or /etc/mime.types)
- This file contains a mapping of file extensions to MIME types
- If you don't explicitly set TypesConfig to something else,
Apache uses this default filename

So the file contains lines like:
<pre><code class="lang-bash">
text/html html htm
image/jpeg jpeg jpg jpe
application/pdf pdf
video/mp4 mp4
</code>
</pre>

This tells Apache: "When you serve a .jpg file, send the HTTP
header Content-Type: image/jpeg"

<h4>Why it matters</h4>
When a browser requests a file, Apache looks at the file extension,
checks the mime.types mapping, and sends the appropriate
Content-Type header. This tells the browser how to handle the file:

- Display it inline (HTML, images)
- Download it (executables, archives)
- Open it with a plugin (PDF)
- etc.

<h4>Does it restrict content?</h4>
<strong><b>No and Yes</b></strong>
If a server is strict about the content type and a client uses either a:
wrong Content-Type, no content type at all or a file extension that isn't
in servers mime.types the server responds with a <strong class="highlighterred">415 Unsupported Media Type</strong>

Apache will typically serve it as application/octet-stream (generic binary data),
which browsers will usually download rather than display. But the file is still served
- it's just that the browser may not know what to do with it.

You can override or add types with the <b>AddType directive</b> if you need custom mappings.

<div class="frame">Missing or incorrect Content-Type headers <strong class="highlighterred">cause functionality issues</strong>
and can create <strong class="highlighterred">security vulnerabilities</strong> through MIME confusion.</div>
</pre></body></html></div>
</div>
</div>
</div>
</div>
</div>
<!--## http-header #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-http-header">
<h2 class="foldable-title" id="foldable-title-http-header">http-header</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('http-header')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-http-header', 'foldable-content-penButton-http-header')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-http-header" onclick="add_subdiv('editable-paragraph-http-header')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-http-header">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-http-header" onclick="save_editable_content('Webserver','editable-paragraph-http-header', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-http-header"><h1>TITLE IPSUM</h1></div>
</div>
</div>
<!--## apache-vs-nginx-comparison #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-apache-vs-nginx-comparison">
<h2 class="foldable-title" id="foldable-title-apache-vs-nginx-comparison">apache-vs-nginx-comparison</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('apache-vs-nginx-comparison')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-apache-vs-nginx-comparison', 'foldable-content-penButton-apache-vs-nginx-comparison')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-apache-vs-nginx-comparison" onclick="add_subdiv('editable-paragraph-apache-vs-nginx-comparison')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-apache-vs-nginx-comparison">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-apache-vs-nginx-comparison" onclick="save_editable_content('Webserver','editable-paragraph-apache-vs-nginx-comparison', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-apache-vs-nginx-comparison"><pre><h2>Architecture</h2>
<b>Apache</b> follows a <b>process-driven</b> architecture, creating a <b>single thread</b> to handle each connection request
it must create <b>different processes</b>. When handling many client requests = <b>heavy resource</b> consumption = slow...
solution, Apache provides various <b>multi-processing modules (MPMs)</b>
<ul>
<li><strong class="highlighteryellow">mpm_prefork </strong>– the prefork MPM is not threaded, meaning each child process
can only handle one request. Its performance immediately degrades after the requests exceed the number of processes, making
it difficult to scale with this MPM.</li>

<li><strong class="highlighteryellow">mpm_worker </strong>–<strong> </strong>each worker MPM <b>process</b> can create
<b>multiple threads</b> that can handle individual connections. This allows the system to serve multiple requests simultaneously.
Since threads need fewer resources than processes , it is <b>more scalable</b> and <b>efficient</b> than the prefork MPM.</li>

<li><strong class="highlighteryellow">mpm_event </strong>– it is similar to the worker MPM but also optimized to handle <b>keep-alive connections</b>..
To do so, it reserves <b>dedicated threads</b> for managing such connections and allocating <b>active requests</b> to other threads.
This process helps the event MPM perform well despite handling many keep-alive requests, resulting in <b>low resource consumption</b>.</li>
</ul>

<i>NGINX</i> uses <i>asynchronous, non-blocking, event-driven</i> architecture, enables to handle <i>multiple connections</i>
within a <i>single process</i>, it has a <i>master process</i> that performs privileged operations and creates <i>child processes</i> ( 3 Types )

<ul><li><strong class="highlighterblue">Cache loader process </strong>– lets you load the disk‑based cache into the memory zone. This process consumes small
server resources since it runs only once after NGINX starts.</li>
<li><strong class="highlighterblue">Cache manager process </strong>– keeps the amount of cached data within the configured sizes by checking it
periodically and removing the least accessed ones.</li>
<li><strong class="highlighterblue">Worker process </strong>– handles multiple HTTP connections simultaneously, eliminating the need to create new
processes or threads. Instead, each process runs independently and contains smaller units called worker connections responsible
for handling request threads. In addition to communicating with upstream servers, the worker process can read and write
stored content.</li></ul>

<h2>Performance</h2>
<b>Apache</b> can process <b>dynamic content</b> natively.
<i>NGINX</i> server performs faster than Apache in providing <i>static content</i> but
requires additional software to process the dynamic one..





</pre>

<div class="foldable-container" id="foldcontainer-mime-type-settings">
<h2 class="foldable-title" id="foldable-title-mime-type-settings">mime-type-settings</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('mime-type-settings')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-mime-type-settings', 'foldable-content-penButton-mime-type-settings')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-mime-type-settings">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-mime-type-settings" onclick="save_editable_content('Webserver','editable-paragraph-mime-type-settings', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-mime-type-settings"><pre>The goal is to configure your server to send the correct Content-Type header for each document


<h2 class="highlighterblue">Nginx</h2>
Using Nginx, note that <i>Nginx</i> does not have a <b>.htaccess</b> equivalent tool, so all changes
will go into the <i>main configuration file</i>.


<h2 class="highlighteryellow">Apache</h2>
If you're using the Apache web server, check the <b>Media Types</b> and <b>Character Encodings</b> section of
<a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Server-side/Apache_Configuration_htaccess#serve_resources_with_the_proper_media_types_a.k.a._mime_types">Apache Configuration</a>: <b>.htaccess</b> for examples of different document types and their corresponding MIME types

</pre></div>
</div>
</div>
</div>
</div>
</div>
</body></html><!--## mime-type-settings #################################################################################################################--><!--## nginx-configfile #################################################################################################################--><!--## a2enmod #################################################################################################################-->