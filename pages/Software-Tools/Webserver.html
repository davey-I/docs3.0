<!DOCTYPE html>
<html><head>
<title data-folder-path="/Software-Tools">Webserver</title>
<link href=" ../../static/style.css" rel="stylesheet"/>
<link href="../../prism/prism.css" rel="stylesheet"/>
</head>
<body class="body">
<div class="page-folder-header-div">
<h1 class="pagetitle" data-folder-path="Software-Tools">Webserver</h1>
<a href="./../..">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M3 11L12 4L21 11"></path>
<path d="M5 10V20H19V10"></path>
<path d="M10 20V14H14V20"></path>
</svg>
</a>
</div>
<!-- Sidebar -->
<div class="sidbear-enclosure-open" id="sidbear-enclosure-open-Webserver">
<button class="sidbear-enclosure-button-open" id="sidbear-enclosure-button-Webserver" onclick="toggle_sidebar()" type="button">
<svg fill="white" height="30" viewBox="0 0 100 80" width="30" xmlns="http://www.w3.org/2000/svg">
<rect height="10" width="100"></rect>
<rect height="10" width="100" y="30"></rect>
<rect height="10" width="100" y="60"></rect>
</svg>
</button>
<div class="sidebar-mainbox-open" id="sidebar-mainbox-Webserver">
<div class="sidebar-subbox-open" id="sidebar-subbox-1" onclick=" append_foldable_content()">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<line x1="12" x2="12" y1="8" y2="16"></line>
<line x1="8" x2="16" y1="12" y2="12"></line>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-2">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-3">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
</div>
</div>
<script src="../../prism/prism.js"></script>
<script src="../../static/script.js"></script>
<!--## Webservers-NGINX #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Webservers-NGINX">
<h2 class="foldable-title" id="foldable-title-Webservers-NGINX">Webservers-NGINX</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Webservers-NGINX')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-Webservers-NGINX', 'foldable-content-penButton-Webservers-NGINX')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Webservers-NGINX" onclick="add_subdiv('editable-paragraph-Webservers-NGINX')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Webservers-NGINX">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Webservers-NGINX" onclick="save_editable_content('Webserver','editable-paragraph-Webservers-NGINX', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Webservers-NGINX"><h1>Pitfalls</h1>
<pre><h3> index directive </h3>
- always add a index directive like:
<pre><code class="lang-bash">index index.html index.htm index.nginx-debian.html;</code></pre>
otherwise you probably get a <b>403</b> back because Nginx searches in <b>/</b> of whatever is
defined in <i>root /var/www/html;</i> and has no permission.
</pre>

<div class="foldable-container" id="foldcontainer-nginx-configfile">
<h2 class="foldable-title" id="foldable-title-nginx-configfile">nginx-configfile</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('nginx-configfile')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-nginx-configfile', 'foldable-content-penButton-nginx-configfile')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-nginx-configfile">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-nginx-configfile" onclick="save_editable_content('Webserver','editable-paragraph-nginx-configfile', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-nginx-configfile"><html><head></head><body><pre>The location of the config file will depend on how Nginx was installed.
On many Linux distributions, the file will be located at <i>/etc/nginx/nginx.conf/</i>.
If it does not exist there, it may also be at <i>/usr/local/nginx/conf/nginx.conf/</i> or
<i>/usr/local/etc/nginx/nginx.conf.</i>

<h3>Structure</h3>
- organized in a <b>tree-like structure</b>, marked by sets of brackets <b>{ }</b>

- areas that these brackets define are called <b>“contexts”</b>

- contexts can be <b>layered within</b> one another ( inheritance ) a
declaration in a broader context will be passed on to any child contexts
as default values. The <b>child contexts can override</b> these values.

<h3>Core Contexts</h3>
Contexts that make up the major structure of an Nginx configuration.

<h4 class="highlighteryellow">main/global context</h4>

- Is <b>not</b> inside a pair of {}, basically all the content that is
outside of any bracket.

- represents the broadest environment for Nginx config

- used to configure details that affect the entire application

- While the directives in this section affect the lower contexts, many of these cannot
be overridden in lower levels


Common details configured in the main context:
- system user and group to run the worker processes as
- the number of workers
- file to save the main Nginx process’s ID.
- default error file for the entire application

<h4 class="highlighteryellow">events context</h4>

- used to set global options that affect how Nginx handles
connections at a general level


- There can only be a single events context defined within
the Nginx configuration.


- Determine how worker processes should handle connections
 directives found here are used to either <b>select</b> the connection processing technique used, or to <b>modify</b>
the way these methods are implemented.


- <b>connection processing method</b> is automatically selected based on the <b>most efficient</b> choice that
the platform has available. For Linux systems, the <b>epoll method</b> is usually the best choice


Other items  that can be configured:
- number of connections each worker can handle
- if worker only takes a single connection at a time or take all pending connections
after being notified about a pending connection


-  whether workers will take turns responding to events


<h4 class="highlighteryellow">http context</h4>


Defining an HTTP context is probably the most common use of Nginx.
and will therefore hold the majority of the configuration


- contain all of the directives and other contexts necessary to define how the program will
handle HTTP or HTTPS connections
</pre></body></html></div>
</div>
</div>
</div>
</div>
</div>
<!--## Webservers-Apache #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Webservers-Apache">
<h2 class="foldable-title" id="foldable-title-Webservers-Apache">Webservers-Apache</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Webservers-Apache')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-Webservers-Apache', 'foldable-content-penButton-Webservers-Apache')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Webservers-Apache" onclick="add_subdiv('editable-paragraph-Webservers-Apache')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Webservers-Apache">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Webservers-Apache" onclick="save_editable_content('Webserver','editable-paragraph-Webservers-Apache', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Webservers-Apache"><h1>Apache2 Webserver Stuff</h1>
<!--## Webserver-Apache-Sites-Enabled-Sites-Available #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Webserver-Apache-Sites-Enabled-Sites-Available">
<h2 class="foldable-title" id="foldable-title-Webserver-Apache-Sites-Enabled-Sites-Available">Webserver-Apache-Sites-Enabled-Sites-Available</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Webserver-Apache-Sites-Enabled-Sites-Available')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-Webserver-Apache-Sites-Enabled-Sites-Available', 'foldable-content-penButton-Webserver-Apache-Sites-Enabled-Sites-Available')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Webserver-Apache-Sites-Enabled-Sites-Available">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Webserver-Apache-Sites-Enabled-Sites-Available" onclick="save_editable_content('Webserver','editable-paragraph-Webserver-Apache-Sites-Enabled-Sites-Available', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Webserver-Apache-Sites-Enabled-Sites-Available"><pre><h3>Why are there /sites-available and /sites-enabled in the VHOST settings?</h3>


- <b>sites-enabled</b>, contains entries with links to those sites in sites-available that 
   have been <b>configured</b> and should also be <b>currently online</b>.


- If a site is <b>only available in sites-available</b>, its entire configuration etc. is still 
  available and you can create a link entry in sites-enabled with a simple
  "add2site " (not eactl called that but similar) command and put the site online again.


- Therefore, <b>sites-enabled is  like an intermediate point</b>, e.g. if a page should not
   be displayed, but not immediately the whole page should be completely deleted/removed,
   just as the name "Enabled" says a kind of on/off function
</pre></div>
</div>
</div>
<div class="foldable-container" id="foldcontainer-a2enmod">
<h2 class="foldable-title" id="foldable-title-a2enmod">a2enmod</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('a2enmod')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-a2enmod', 'foldable-content-penButton-a2enmod')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-a2enmod">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-a2enmod" onclick="save_editable_content('Webserver','editable-paragraph-a2enmod', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-a2enmod"><pre>- <b>a2enmod</b> is a command line utility available on Debian-based distributions
 It doesn’t “compile” or “install” modules, it only enables them.

- Real modules are shipped as .load and .conf files in <b>/etc/apache2/mods-available/</b>

- In the background is a script that enables the specified module within the apache2 configuration.  It does this by
  creating symlinks within <b>/etc/apache2/mods-enabled</b>.  Likewise, <i>a2dismod</i> disables  a  module  by  removing
  those  symlinks.  It is not an error to enable a module which is already enabled, or to disable one which
  is already disabled.

<div class="frame">
<h4>Example: a2enmod proxy</h4>
- If we run the command from above, the script searches for preocy.load (and optionally proxy.conf) in
 <b>/etc/apache2/mods-available/</b>

- a2enmodthen creates symlinks in <b>/etc/apache2/mods-enabled/</b>
</div>
</pre></div>
</div>
</div>
<!--## vhosts #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-vhosts">
<h2 class="foldable-title" id="foldable-title-vhosts">vhosts</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('vhosts')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-vhosts', 'foldable-content-penButton-vhosts')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-vhosts">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-vhosts" onclick="save_editable_content('Webserver','editable-paragraph-vhosts', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-vhosts"><pre>Details - <a href="https://httpd.apache.org/docs/2.4/de/vhosts/">apache.org</a>

<b>Vhost</b> Bezeichnet die Praxis, mehr als ein Webangebot (z.B. www.company1.com und www.company2.com) 
auf einer einzigen Maschine zu betreiben

Vhosts sind entweder:
<ul>
<li>IP-basiert, was bedeutet, dass jedes Webangebot eine andere IP besitzt
</li><li>Namens-basiert, was bedeutet, dass unter jeder IP-Adresse mehrere Namen laufen.
</li></ul>

The fact that several websites run on the same physical server is not obvious to
end users.

<h3>vhost definition</h3>
<b>&lt;virtualhost <i>*</i>:80&gt;</b>

Defines a virtual host in Apache.

- <i>*</i> = listen on all network <i>interfaces</i> of the server (0.0.0.0).

-  <b>:80</b> = this vhost listens on port 80, the standard HTTP port.

- Everything between &lt;virtualhost&gt; and &lt;/virtualhost&gt; applies to requests coming to this port.

<h3>Directives / Direktiven </h3>

<h4>ServerName / ServerAlias</h4>
<b>ServerName <i>myapp.local</i></b>
<b>ServerAlias</b> <i class="highlighterorange&gt;*.myapp.local&lt;/i&gt;&lt;/b&gt; Defines the hostname this &lt;strong&gt;vhost responds&lt;/strong&gt; to.. When a request comes to the server, Apache checks the &lt;b&gt;ServerName&lt;/b&gt; and &lt;i class=" highlighterorange="">*.myapp.local</i>

directives in the virtual host configurations to determine which configuration to use.

In Apache, ServerName and ServerAlias directives are used in the server configuration to define how the server
should respond to different hostnames or domain names. These directives are essential for virtual host configurations,
allowing the server to handle multiple websites or domains on a single server.


When a request comes to the server, Apache checks the ServerName and ServerAlias directives in the virtual host
configurations to determine which configuration to use.


If the requested hostname matches the ServerName or any of the ServerAlias values in a virtual host block, Apache
will use that virtual host configuration to serve the request.


If the request doesn't match any ServerName or ServerAlias in the virtual host configurations, Apache will use the
default virtual host (the one defined first in the configuration) or the one associated with the main server.

- Apache will match requests based on the Host: header from the client..

-  If we setup, <i>myapp.local</i>, mapped to 127.0.0.1 in 
 <span class="highlighterorange">/etc/hosts</span> so the browser knows where to send the request.

- <strong>Only</strong> requests to <i>myapp.local</i> will use this vhost.

<h4>ProxyPass</h4>
<b>ProxyPass <b>/</b> <i>http://localhost:5000/</i></b>

Defines the <strong>core reverse proxy directive</strong>.
ProxyPass &lt;path&gt; &lt;backend&gt; tells Apache:

<li>All requests matching &lt;path&gt; (here /, meaning everything)</li>
<li>Should be forwarded to &lt;backend&gt; (http://localhost:5000/).</li>

- So, if you visit http://myapp.local/index.html in the browser, Apache forwards
 the request to http://localhost:5000/index.html.

<h4> ProxyPassReverse</h4>
<b> ProxyPassReverse <b>/</b> <i>http://localhost:5000/</i></b>

- Handles responses from the backend that contain redirects or Location: headers

- For example, if the backend responds with Location: http://localhost:5000/login,
 Apache rewrites it to http://myapp.local/login before sending it to the client.

- Ensures the client sees URLs for the proxy, not the backend.
</pre></div>
</div>
</div>
<!--## http-request-handling-detail #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-http-request-handling-detail">
<h2 class="foldable-title" id="foldable-title-http-request-handling-detail">http-request-handling-detail</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('http-request-handling-detail')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-http-request-handling-detail', 'foldable-content-penButton-http-request-handling-detail')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-http-request-handling-detail">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-http-request-handling-detail" onclick="save_editable_content('Webserver','editable-paragraph-http-request-handling-detail', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-http-request-handling-detail"><pre>http request handling in by apache example with curl request


<h4>How does Apache determine which VHOST config to use</h4>
- if we do a <b>curl -v https://example.com</b>, we see these headers:

  * Host example.com:443 was resolved.
  * [HTTP/2] [1] [:authority: example.com]&gt;

- With the help of these and the <i>ServerName and ServerAlias</i>
 the Webserver is able to determine which Vhost-Config should be
 used for the incoming request, if any at all.  
</pre></div>
</div>
</div>
<!--## apache-modsecurity #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-apache-modsecurity">
<h2 class="foldable-title" id="foldable-title-apache-modsecurity">apache-modsecurity</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('apache-modsecurity')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-apache-modsecurity', 'foldable-content-penButton-apache-modsecurity')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-apache-modsecurity">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-apache-modsecurity" onclick="save_editable_content('Webserver','editable-paragraph-apache-modsecurity', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-apache-modsecurity"><pre>Check: <a href="../Security/Security-WAF.html">This Section</a>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<!--## http-header #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-http-header">
<h2 class="foldable-title" id="foldable-title-http-header">http-header</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('http-header')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Webserver','editable-paragraph-http-header', 'foldable-content-penButton-http-header')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-http-header" onclick="add_subdiv('editable-paragraph-http-header')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-http-header">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-http-header" onclick="save_editable_content('Webserver','editable-paragraph-http-header', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-http-header"><h1>TITLE IPSUM</h1></div>
</div>
</div>
</body></html><!--## nginx-configfile #################################################################################################################--><!--## a2enmod #################################################################################################################-->