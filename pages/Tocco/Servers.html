<!DOCTYPE html>
<html><head>
<title data-folder-path="/Tocco">Servers</title>
<link href=" ../../static/style.css" rel="stylesheet"/>
<link href="../../prism/prism.css" rel="stylesheet"/>
</head>
<body class="body">
<div class="page-folder-header-div">
<h1 class="pagetitle" data-folder-path="Tocco">Servers</h1>
<a href="./../..">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M3 11L12 4L21 11"></path>
<path d="M5 10V20H19V10"></path>
<path d="M10 20V14H14V20"></path>
</svg>
</a>
</div>
<!-- Sidebar -->
<div class="sidbear-enclosure-open" id="sidbear-enclosure-open-Servers">
<button class="sidbear-enclosure-button-open" id="sidbear-enclosure-button-Servers" onclick="toggle_sidebar()" type="button">
<svg fill="white" height="30" viewBox="0 0 100 80" width="30" xmlns="http://www.w3.org/2000/svg">
<rect height="10" width="100"></rect>
<rect height="10" width="100" y="30"></rect>
<rect height="10" width="100" y="60"></rect>
</svg>
</button>
<div class="sidebar-mainbox-open" id="sidebar-mainbox-Servers">
<div class="sidebar-subbox-open" id="sidebar-subbox-1" onclick=" append_foldable_content()">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<line x1="12" x2="12" y1="8" y2="16"></line>
<line x1="8" x2="16" y1="12" y2="12"></line>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-2">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
<div class="sidebar-subbox-open" id="sidebar-subbox-3">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10"></circle>
<path d="M9.09 9C9.32591 8.33109 9.78918 7.76807 10.4 7.41421C11.0108 7.06036 11.7266 6.93913 12.4152 7.07107C13.1038 7.20302 13.7206 7.57857 14.162 8.12132C14.6034 8.66407 14.8397 9.33984 14.83 10.03C14.83 12 12.5 12.5 12.5 14"></path>
<circle cx="12" cy="17" r="1"></circle>
</svg>
</div>
</div>
</div>
<script src="../../prism/prism.js"></script>
<script src="../../static/script.js"></script>
<!--## Git-aka-Gerrit #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Git-aka-Gerrit">
<h2 class="foldable-title" id="foldable-title-Git-aka-Gerrit">Git-aka-Gerrit</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Git-aka-Gerrit')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Git-aka-Gerrit', 'foldable-content-penButton-Git-aka-Gerrit')" type="button"><svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Git-aka-Gerrit" onclick="add_subdiv('editable-paragraph-Git-aka-Gerrit')" type='*button"'><svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Git-aka-Gerrit">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Git-aka-Gerrit" onclick="save_editable_content('Servers','editable-paragraph-Git-aka-Gerrit', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Git-aka-Gerrit"><h3>Allgemeine Infos</h3>
<li>From time to time , the space usage in <b>/var/lib/gerrit-data</b> gets a bit heavy<br/>
If this is the case, we need to clean up old <b>_app</b> folders and <b>.pearl</b> files.
</li><br/>
<li></li></div>
</div>
</div>
<!--## Tocco-DB-Servers-And-Backups #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Tocco-DB-Servers-And-Backups">
<h2 class="foldable-title" id="foldable-title-Tocco-DB-Servers-And-Backups">Tocco-DB-Servers-And-Backups</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Tocco-DB-Servers-And-Backups')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Tocco-DB-Servers-And-Backups', 'foldable-content-penButton-Tocco-DB-Servers-And-Backups')" type="button"><svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Tocco-DB-Servers-And-Backups" onclick="add_subdiv('editable-paragraph-Tocco-DB-Servers-And-Backups')" type='*button"'><svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Tocco-DB-Servers-And-Backups">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Tocco-DB-Servers-And-Backups" onclick="save_editable_content('Servers','editable-paragraph-Tocco-DB-Servers-And-Backups', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Tocco-DB-Servers-And-Backups"><h1>Allgemeine Tips</h1>
<ul>
<li>Bei <b>grossen DB-Backups</b> vorher prüfen ob <b>diskspace ausreicht</b></li><br/>
<li> Möchten wir den Stand vor und nach dem restore in Bezug auf die DB-Grösse überprüfen wie bei <b>\l+</b><br/>
 können wir dies mit dem folgenden Statement machen, wobei wir lediglich den Customernamen <b>'%nice_cwb%'</b>
 anpassen müssen:<br/>
 <!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-sql">
            SELECT d.datname as "Name", pg_catalog.pg_get_userbyid(d.datdba) as "Owner", pg_catalog.pg_size_pretty(pg_catalog.pg_database_size(d.datname)) as "Size", LEFT(des.description, 20) AS "Description" FROM pg_catalog.pg_database d LEFT JOIN pg_shdescription des ON des.objoid = d.oid AND des.classoid = 'pg_database'::regclass JOIN pg_catalog.pg_tablespace t on d.dattablespace = t.oid WHERE d.datname LIKE '%nice_cwb%' ORDER BY "Size";       
        </code>
    </pre>
</li><br/>
<li>Div. Postgres Commands:
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-sql">
# restore from dumpfile (does not work when in psql context)
pg_restore -j 4 --role ${DB_USER} --no-owner --no-acl -d ${DB_NAME} ${DUMP_FILE_OR_DIRECTORY}

# Drop DB
DROP DATABASE ${DB_NAME};

#Create DB
CREATE DATABASE ${DB_NAME} WITH OWNER ${DB_USER};
         </code>
 </pre>
</li>
</ul><br/>
<!--## Restore-From-Tocco-DB-Backups #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Restore-From-Tocco-DB-Backups">
<h2 class="foldable-title" id="foldable-title-Restore-From-Tocco-DB-Backups">Restore-From-Tocco-DB-Backups</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Restore-From-Tocco-DB-Backups')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Restore-From-Tocco-DB-Backups', 'foldable-content-penButton-Restore-From-Tocco-DB-Backups')" type="button"><svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Restore-From-Tocco-DB-Backups">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Restore-From-Tocco-DB-Backups" onclick="save_editable_content('Servers','editable-paragraph-Restore-From-Tocco-DB-Backups', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Restore-From-Tocco-DB-Backups"><h3>Test mit Produktivdaten Überspielen</h3>
<p>
Wenn wir im Geschäft eine Testumgebung mit einem Backup aus der Produktionsumgebung<br/>
wiederherstellen, dann ist es wichtig, dass wir je nachdem, welche <b>Version die Produktionsumgebung</b><br/>
hat, ein <b>neues Deployment</b> der Testumgebung starten<br/><br/>


Da diese möglicherweise nicht mit dem Stand der Produktionsumgebung übereinstimmt,<br/>
muss ein zusätzliches Deployment erstellt werden, um die Daten zu synchronisieren.<br/>
</p>
</div>
</div>
</div>
<!--## Direkt-Restore-Via-Borg-Extract #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Direkt-Restore-Via-Borg-Extract">
<h2 class="foldable-title" id="foldable-title-Direkt-Restore-Via-Borg-Extract">Direkt-Restore-Via-Borg-Extract</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Direkt-Restore-Via-Borg-Extract')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Direkt-Restore-Via-Borg-Extract', 'foldable-content-penButton-Direkt-Restore-Via-Borg-Extract')" type="button"><svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Direkt-Restore-Via-Borg-Extract">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Direkt-Restore-Via-Borg-Extract" onclick="save_editable_content('Servers','editable-paragraph-Direkt-Restore-Via-Borg-Extract', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Direkt-Restore-Via-Borg-Extract"><div>
 <ul>
   <li>
        Borg Backup finden <b>Search on Slave not Master !!</b>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
$ sudo -i
$ borg-repos
$ borg-2 list

#List data inside specific archive:
$ borg-2 list ::db-2024-04-26T04:12:02
        </code>
    </pre>
   </li><br/>
   <li>
        Direkt extract command vorbereiten:<br/>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
            ssh db4.tocco.cust.vshn.net sudo -i borg extract --stdout ::db-2025-01-08T04:12:02 var/lib/postgresql-backup/nice_hkvag.dump | ssh db5.stage.tocco.cust.vshn.net pg_restore --no-acl --no-owner --role nice_hkvagtest -d nice_hkvagtest_temp        
        </code>
    </pre>
 
    </li><br/>
      
    <li>
        Auf dem Testsystem eine neue DB erstellen, die gleich heisst<br/>
        wie die des aktuellen Testsystems, einfach mit der endung <span class="highlighteryellow">_temp</span><br/>
        der Owner bzw. role ist die gleiche wie beim laufenden Testsystem, sonst müsste eine neue Role<br/>
        erstellt werden..<br/><br/>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
            CREATE DATABASE ${DB_NAME} WITH OWNER ${DB_USER};        
        </code>
    </pre>
        <div></div>
    </li><br/>


    <li>
        Nachdem DB erstellt wurde, kurz mit dem <b>\l+</b> den aktuellen spacebedarf<br/>
        der DB testen ( wahrsch im KB-Bereich)
    </li><br/>


    <li>
        Dann den oben vorbereiteten Borg-Direkt-Extrakt Befehl ausführen und mit dem Backup restoren.
    </li><br/>


    <li>
        Nach dem restore, nochmals mit <span>\l+</span> den Space checken, der nun<br/>
        natürlich deutlich höher sein sollte..
    </li><br/>


    <li>
        Zwei DB-ALTER_DB Befehle vorbereiten...<br/><br/>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
            ALTER DATABASE nice_{$CUSTOMER}test RENAME TO nice_{$CUSTOMER}test_old;        
        </code>
    </pre>
          <br/><br/>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
            ALTER DATABASE nice_{$CUSTOMER}test_temp RENAME TO nice_{$CUSTOMER}test;        
        </code>
    </pre>

    </li><br/>

    <li>
        Kurze Downtime auf dem entsprechenden Testsystem erstellen...
    </li><br/>

    <li>
        Sicherstellen, dass bereits auf der DB des Testsystems eingeloggt und user <span class="highlighteryellow">psql</span>
    </li>:<br/>

    <li>
        Pod des Testsystems auf 0 scalen
    </li><br/>
      
    <li>
        Sobald Pod runtergefahren, die beiden vorbereiteten ALTER_DB befehle ausführen.
    </li><br/>


    <li>
        Pod wieder hochfahren und status checken..
    </li>:<br/>

    </ul><br/><br/>


    <div>
      Danach muss noch irgend ein DB-Domain-Table angepasst werden:<br/>


      "ah ja guet das chan suscht au de mache wo die ufgab macht:<br/>

      basically het es table namens <b>nice_domain<b></b><br/>


      det hets es feld url. de wird halt überall e url stah vom produktiv. z.B <span class="highlighterblue">hkvag.tocco</span>.ch/extranet<br/>
      das mummer halt überall umaendere uf <span class="highlighteryellow">hkvagtest</span>.tocco.ch/extranet<br/>
      je nach dem chasch eifach update nice_domain set url = replace(url, '<span class="highlighterblue">hkvag.tocco</span>.ch', '<span class="highlighteryellow">hkvagtest</span>.tocco.ch'); (edited) <br/>
      mengisch gahts au ned so eeasy peasy denn muschs halt chli einzeln ga update"<br/><br/>


      <b>_old </b>kann dann am nächsten tag gleöscht werden...<br/>

      <b>History DB</b> muss eigentlich nicht mitrestored werden<br/>
      kann höchstens kleine unstimmigkeiten in den logs geben<br/>
      aber eigentlich sind diese grösstenteils unabhängig<br/>
    </b></div>
  </div></div>
</div>
</div>
<!--## Download-Backup-From-Server #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Download-Backup-From-Server">
<h2 class="foldable-title" id="foldable-title-Download-Backup-From-Server">Download-Backup-From-Server</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Download-Backup-From-Server')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Download-Backup-From-Server', 'foldable-content-penButton-Download-Backup-From-Server')" type="button"><svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Download-Backup-From-Server">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Download-Backup-From-Server" onclick="save_editable_content('Servers','editable-paragraph-Download-Backup-From-Server', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Download-Backup-From-Server"><ul>
<li> SSH into the server and <b>cd</b> to <b>/var/lib/postgresql-backup</b><br/>
and create a new folder in here, after that <b>cd</b> into that folder.
</li><br/>
<li>
  Borg Backup finden <b>Search on Slave not Master !!</b>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
$ sudo -i
$ borg-repos
$ borg-2 list

#List data inside specific archive:
$ borg-2 list ::db-2024-04-26T04:12:02

# extract backup to folder currently in
$ borg extract ::db-2024-02-08T04:12:01 var/lib/postgresql-backup/nice_zb.dump
        </code>
</pre>
   </li><br/>
<li> Once extracted, change ownership to user that needs the backup , so it will allow<br/>
to fetch down to local machine.<br/>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
# find username
cat /etc/passwd

#change ownership
chown -R username:groupname directoryname
        </code>
</pre>
</li><br/>
<li> Pull backup down to local machine. for ex with rsync <b>(executed local, on users machine)</b>: <br/>
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
rsync -avz --progress -e ssh ${SSH-USER-SERVER}@${SERVERNAME}:/backup/On-server /destination/local


# The other way around if you need to upload smth. for some reason
rsync -avz --progress -e ssh /path/to/local/dir ${SSH_USER}@${SERVERNAME}:/remote/destination


        </code>
</pre>
</li>
<li>
Create a new DB:
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-sql">
CREATE DATABASE ${DB_NAME} WITH OWNER ${DB_USER};
        </code>
</pre>
</li><br/>
<li>
Restore a from the downloaded dumpfile:
<!--Prism bash pretyfier code example-->
    <pre>        <code class="lang-bash">
pg_restore -j 4 --role ${DB_USER} --no-owner --no-acl -d ${DB_NAME} ${DUMP_FILE_OR_DIRECTORY}
        </code>
</pre>
</li><br/>
</ul></div>
</div>
</div>
<!--## Change-Table-Owners #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Change-Table-Owners">
<h2 class="foldable-title" id="foldable-title-Change-Table-Owners">Change-Table-Owners</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Change-Table-Owners')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Change-Table-Owners', 'foldable-content-penButton-Change-Table-Owners')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Change-Table-Owners">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Change-Table-Owners" onclick="save_editable_content('Servers','editable-paragraph-Change-Table-Owners', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Change-Table-Owners"><pre><h3>Via tco db-copy</h3>
Not sure if this is ever necessary, since there are not that many tables in the DB and we could
probably just change the owners manually via <b>ALTER TABLE</b> command.

- But if we have to do it for every table for ex. we could just copy it with 
  the tco db-copy command like described in db-copy in : <a href="../Software-Tools/tco.html">tco</a>
 ( <b>cp is an alias for db-copy</b> )
</pre></div>
</div>
</div>
</div>
</div>
</div>
<!--## Tocco-DB-Servers-Access-Problems #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Tocco-DB-Servers-Access-Problems">
<h2 class="foldable-title" id="foldable-title-Tocco-DB-Servers-Access-Problems">Tocco-DB-Servers-Access-Problems</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Tocco-DB-Servers-Access-Problems')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Tocco-DB-Servers-Access-Problems', 'foldable-content-penButton-Tocco-DB-Servers-Access-Problems')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Tocco-DB-Servers-Access-Problems" onclick="add_subdiv('editable-paragraph-Tocco-DB-Servers-Access-Problems')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Tocco-DB-Servers-Access-Problems">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Tocco-DB-Servers-Access-Problems" onclick="save_editable_content('Servers','editable-paragraph-Tocco-DB-Servers-Access-Problems', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Tocco-DB-Servers-Access-Problems"><h3>Fix for BS 'need ADMIN role' Problem</h3>
<pre>- DB Problem 'need Admin rights....' could be resolved by the following change in db-role in ansible
   to change db-users PW or something, that occured when update DB-Server to postgres 17


- <a href="https://gitlab.com/toccoag/ansible/-/commit/222cfea757c055a79ab47ec06892ef0fa7e8368e#173f604545b84555a965bff1c7ee79195c192f94_9_9">Gitlab-Commit</a>
</pre></div>
</div>
</div>
<!--## OPNsense-Firewall #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-OPNsense-Firewall">
<h2 class="foldable-title" id="foldable-title-OPNsense-Firewall">OPNsense-Firewall</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('OPNsense-Firewall')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-OPNsense-Firewall', 'foldable-content-penButton-OPNsense-Firewall')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-OPNsense-Firewall" onclick="add_subdiv('editable-paragraph-OPNsense-Firewall')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-OPNsense-Firewall">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-OPNsense-Firewall" onclick="save_editable_content('Servers','editable-paragraph-OPNsense-Firewall', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-OPNsense-Firewall"><h3> <b>VPN has to be enabled !! </b> <br/>
<b>IPv4</b>: https://83.150.42.112:4444/ <br/>
<i>IPV6</i> : https://[2001:8e0:9ff:2000:0:1c5:dac2:955a]:4444/</h3><br/>
<pre>- Updates can be checke via link on the dashboard
- Before updates we can download the current config as a backup
</pre></div>
</div>
</div>
<!--## Teamcity-Agents #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Teamcity-Agents">
<h2 class="foldable-title" id="foldable-title-Teamcity-Agents">Teamcity-Agents</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Teamcity-Agents')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Teamcity-Agents', 'foldable-content-penButton-Teamcity-Agents')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Teamcity-Agents" onclick="add_subdiv('editable-paragraph-Teamcity-Agents')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Teamcity-Agents">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Teamcity-Agents" onclick="save_editable_content('Servers','editable-paragraph-Teamcity-Agents', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Teamcity-Agents"><h1>TC-Agent Problems</h1>
<!--## No-Space-Left-Problems #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-No-Space-Left-Problems">
<h2 class="foldable-title" id="foldable-title-No-Space-Left-Problems">No-Space-Left-Problems</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('No-Space-Left-Problems')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-No-Space-Left-Problems', 'foldable-content-penButton-No-Space-Left-Problems')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-No-Space-Left-Problems">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-No-Space-Left-Problems" onclick="save_editable_content('Servers','editable-paragraph-No-Space-Left-Problems', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-No-Space-Left-Problems"><pre><div style="border-style:solid; border-color:yellow;">
tcagents can run out of space sometimes, <b>(should not be caused by docker-images anymore)</b>

<i>"dur das, dass d build agents alles ime docker usfüehred, gits suscht
eignetlich nöd vill anderi directories wo mer chönnt ufruume und denn
gnueg platz würd chönne frei gäh"</i>

<b>Pege setup a ansible job that cleans docker-images monthly</b>

There is also a build-step, that should remove old images
</div>
</pre>
<h3>Jobs failed with <b>No space left</b> message.</h3>
<pre>- we can go to <b>/home/tocco/</b> on the Agent and run the <i>ncdu .</i> command to get an overview
( check disk usage at start with <b> df -hT </b>)

the ncdu output for a tcagents /<b>/home/tocco</b> probably looks something like this:
<pre><code class="lang-bash">
--- /home/tocco --------------------------------------------------------------------------------------------------------------
   30.5 GiB [##################] /.gradle
   25.8 GiB [###############   ] /.npm
   18.5 GiB [##########        ] /buildAgent
  711.4 MiB [                  ] /.m2
  705.0 MiB [                  ] /.cache
  434.1 MiB [                  ] /.sonar
  163.8 MiB [                  ] /.npm-cache
    9.1 MiB [                  ] /.node-gyp
    4.6 MiB [                  ] /.kube
    1.0 MiB [                  ] /.java
  368.0 KiB [                  ] /.ansible
   28.0 KiB [                  ] /.parallel
   28.0 KiB [                  ] /.ssh
   20.0 KiB [                  ] /.fop
   16.0 KiB [                  ] /.config
   12.0 KiB [                  ]  .v8flags.5.1.281.98.ad431055a58cfbbb64a2bcef26bd2e7a.json
    8.0 KiB [                  ] /.gnupg
    8.0 KiB [                  ] /.docker
    8.0 KiB [                  ]  .viminfo
    8.0 KiB [                  ]  .v8flags.7.0.276.38-node.19.ad431055a58cfbbb64a2bcef26bd2e7a.json
    8.0 KiB [                  ]  .v8flags.6.8.275.32-node.59.ad431055a58cfbbb64a2bcef26bd2e7a.json
    8.0 KiB [                  ]  .bash_history
    4.0 KiB [                  ]  .pdfbox.cache
    4.0 KiB [                  ]  s
    4.0 KiB [                  ]  .wget-hsts
    4.0 KiB [                  ]  .gitconfig
    4.0 KiB [                  ]  .lesshst
</code>
</pre>

- However, the following locations tend to fill up from time to time:

<ul>
<h3>.gradle</h3>
<li><b>/home/tocco/.gradle/daemon/</b>: A lot of daemon log files are created in here, that can be deleted
by using the command:
<pre>  <code class="lang-bash">
     # check first, which files are selected with
     find . -type f -name '*.out.log' 
     # add the '-delete' if sure about deleting
     find . -type f -name '*.out.log' -delete
</code>
</pre>
</li><li>We might also have a lot of stuff inside <b>/home/tocco/.gradle/.tmp</b>:
<pre><code class="lang-bash">
   17.4 GiB [##################] /.tmp
   11.1 GiB [###########       ] /caches
    1.7 GiB [#                 ] /wrapper
</code>
</pre>
we can simply delete the whole <b>/home/tocco/.gradle/.tmp</b> and recreate it again afterwards
<b>! as user tocco not root !.</b> This is probably related to this gradle-issue <a href="https://github.com/gradle/gradle/issues/12020"> Github</a>
</li>

<h3>buildAgent</h3>
<li>Don't delete in <b>/buildAgent</b> if not clear what it really does ( case right now, as this is written )</li>
<h3>.npm</h3>
<li>/home/tocco/.npm/_cacache/content-v2/sha... also tends to fill up</li>
<li>Also <b>.npm-cache</b>s </li>
</ul>
<li>Most of the time, cleaning <b>.gradle</b> will free up about 30 GB+, which is usually enough
if not, we can in maybe thing about deleting stuff inside <b>cache and buildagent/work</b>:
<p><i>PEGE</i>: Yeah, you can probably remove any thing that says cache and buildAgent/work can be removed too,
it's some sort of cache too. Some of it will be recreated but hopefully not all of it.</p>
</li>
</pre></div>
</div>
</div>
<!--## Hanging-Builds #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Hanging-Builds">
<h2 class="foldable-title" id="foldable-title-Hanging-Builds">Hanging-Builds</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Hanging-Builds')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Hanging-Builds', 'foldable-content-penButton-Hanging-Builds')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Hanging-Builds">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Hanging-Builds" onclick="save_editable_content('Servers','editable-paragraph-Hanging-Builds', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Hanging-Builds"><pre>- Builds get stuck sometimes, which end up in a <b>hanging build</b>
</pre>
<img alt="bla" src="../../images/tc-hanging-build.png"/></div>
</div>
</div>
</div>
</div>
</div>
<!--## Gitlab-Runners #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Gitlab-Runners">
<h2 class="foldable-title" id="foldable-title-Gitlab-Runners">Gitlab-Runners</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Gitlab-Runners')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Gitlab-Runners', 'foldable-content-penButton-Gitlab-Runners')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Gitlab-Runners" onclick="add_subdiv('editable-paragraph-Gitlab-Runners')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Gitlab-Runners">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Gitlab-Runners" onclick="save_editable_content('Servers','editable-paragraph-Gitlab-Runners', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Gitlab-Runners"><div class="foldable-container" id="foldcontainer-Space-Issues-Runners">
<h2 class="foldable-title" id="foldable-title-Space-Issues-Runners">Space-Issues-Runners</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Space-Issues-Runners')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Space-Issues-Runners', 'foldable-content-penButton-Space-Issues-Runners')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Space-Issues-Runners">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Space-Issues-Runners" onclick="save_editable_content('Servers','editable-paragraph-Space-Issues-Runners', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Space-Issues-Runners"><pre><h4>Nur auf runner<b>4</b></h4>
<i>/var/lib/docker/volumes/</i> might be full of:
<i>runner-xzsc2pyy-project-42516608-concurrent-0-cache-c33bcaa1fd2c77edfc3893b41966cea8</i>

- to clean that we can run <b> docker volume prune </b>

<h4>Podman</h4>
<div class="frame"> Podman stores containers, images, and volumes under the user that runs it.
In your case, GitLab jobs run as the <b>podman</b> service user, so data piles up in
<b>/var/lib/podman-service/.local/share/containers/storage</b>.

Running <b>podman system prune -a</b> cleans unused containers, images, networks, and volumes.
Active containers (running jobs) are never removed, but anything not attached to them is deleted.
That means pruning while jobs are running won’t kill them, but it can remove cached images or
volumes they might expect later, causing extra pulls or slower builds. To be safe, always check
<b>sudo -u podman podman ps</b> first and only prune if no jobs are active. </div>

<pre><code class="lang-bash">
ssh gitlab-runner5
cd /
sudo -u podman podman system prune -a

# Ebenfalls braucht es auch noch den folgenden comman
sudo -u podman podman volume prune
</code>
</pre>
<strong>PEGE COMMENT: </strong>:<span class="highlighterorange">
System prune we already do automatically once in a while but I don't think we clean the volume
</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<!--## unifi-gerätli #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-unifi-gerätli">
<h2 class="foldable-title" id="foldable-title-unifi-gerätli">unifi-gerätli</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('unifi-gerätli')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-unifi-gerätli', 'foldable-content-penButton-unifi-gerätli')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-unifi-gerätli" onclick="add_subdiv('editable-paragraph-unifi-gerätli')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-unifi-gerätli">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-unifi-gerätli" onclick="save_editable_content('Servers','editable-paragraph-unifi-gerätli', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-unifi-gerätli"><pre><img alt="unifi-hardware" height="50" src="../../images/unifi-geraetli.png" width="50"/>
</pre>
<!--## unifi-initial-setup #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-unifi-initial-setup">
<h2 class="foldable-title" id="foldable-title-unifi-initial-setup">unifi-initial-setup</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('unifi-initial-setup')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-unifi-initial-setup', 'foldable-content-penButton-unifi-initial-setup')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-unifi-initial-setup">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-unifi-initial-setup" onclick="save_editable_content('Servers','editable-paragraph-unifi-initial-setup', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-unifi-initial-setup"><pre>Docs: https://docs.tocco.ch/devops/internal_servers/wlan.html




- unifi was "gerätli" was originally hosted on host03A
  as VM. So the hardware "gerätli" we bought later ( when
  we moved down to EG), is basically the real i.g. physical
  version of the old vm.


- Now that we moved back to the old office, we want to add
  all of the Wifi-Access points to the physical "gerätli" ( when
  we moved down to EG, only two access points have been 
  added to the physical gerätli, the others where still managed
  by the VM )


  This wasn't really an issue, because the access points only 
  need to be connected to the Config-Gerätli once, then they 
  receive the Config and afterwards they save that config.
  So if nothing needs to be changed or updated, they are fine
  on their own.


- Like mentioned already, we want to add all access points 
  to the physical "gerätli" if we connected all of them (7) to
  the network, in theory the "gerätli" should be able to recognize
  and auto. add them. Because we imported the config from the 


  old VM-unifi to it. 


  So if for any reason we need to switch to the new "gerätli":


  - Connect "gerätli" to the network and wait until it is ready
     meaning it also has received a IP from DHCP. Which then
     should be appear on the small display on the "gerätli"


  - Enter the IP into a browser and enter credentials you find
     in ansible-vault. 


  - Somewhere there should be a list, that shows all the connected
    access points + also the two that the "gerätli" found, but are not
    yet connected. 


  - We add these via the UI somewhere and they should be ready
 
  - add chages to Docs ...




<div class="frame">If this won't work, we need to reset and create everything new. Preferably
on a "non-working" day. Also the other steps would cause a network downtime.</div>
</pre></div>
</div>
</div>
<!--## unifi-general-infos #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-unifi-general-infos">
<h2 class="foldable-title" id="foldable-title-unifi-general-infos">unifi-general-infos</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('unifi-general-infos')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-unifi-general-infos', 'foldable-content-penButton-unifi-general-infos')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-unifi-general-infos">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-unifi-general-infos" onclick="save_editable_content('Servers','editable-paragraph-unifi-general-infos', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-unifi-general-infos"><pre><div class="frame">
<b>Location</b>: DevOps-Office, inside the rack, underneath the switch
<b>IP</b>:10.27.254.87
<b>Credentials</b>: BW or Vault
</div>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<!--## Mikrotik-Routerboard #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Mikrotik-Routerboard">
<h2 class="foldable-title" id="foldable-title-Mikrotik-Routerboard">Mikrotik-Routerboard</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Mikrotik-Routerboard')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Mikrotik-Routerboard', 'foldable-content-penButton-Mikrotik-Routerboard')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Mikrotik-Routerboard" onclick="add_subdiv('editable-paragraph-Mikrotik-Routerboard')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Mikrotik-Routerboard">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Mikrotik-Routerboard" onclick="save_editable_content('Servers','editable-paragraph-Mikrotik-Routerboard', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Mikrotik-Routerboard"><pre><strong>Mikrotik Routerboard from IWay, where our Fiber and ADSL(Backup) connection are coming in</strong>
<strong>Type: <b>Mikrotik Routerboard RB 3011 UiAS-RM</b></strong>


Mikrotik connections Nov25: <strong class="highlighterred">
(!!! ATTENTION: BLACK CABLE WORKED ONLY ON EHT2 PORT !!! NOT LIKE IN THE IMAGE BELOW)</strong>
 - Black Cable "30" direct connection from the ADSL-Backup lines <b>LAN2</b> Ports ( Via Stockwerkverbindungskabel 2.OG-1.OG)
 - Yellow Cable: Connection to Firewall (Sophos)
<img alt="mikrotikimage" height="500" src="../../images/backupline2.jpg" width="400"/>

ADSL-Backupline connections Nov25: 
 - Black Cable: Connection to the incoming ADSL-Line from outside.
 - Yellow Cable: Direct connection to Mikrotik
( Via Stockwerkverbindungskabel 2.OG-1.OG , Cable "30" in the Mirkotik image from above)
<img alt="mikrotikimage" height="500" src="../../images/backupline1.jpg" width="400"/>
</pre></div>
</div>
</div>
<!--## Sophos-Firewall #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-Sophos-Firewall">
<h2 class="foldable-title" id="foldable-title-Sophos-Firewall">Sophos-Firewall</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('Sophos-Firewall')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-Sophos-Firewall', 'foldable-content-penButton-Sophos-Firewall')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-Sophos-Firewall" onclick="add_subdiv('editable-paragraph-Sophos-Firewall')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-Sophos-Firewall">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-Sophos-Firewall" onclick="save_editable_content('Servers','editable-paragraph-Sophos-Firewall', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-Sophos-Firewall"><pre><h1 class="highlighteryellow">Old Sophos Firewall, hopefully soon gone (Tocco-Office)</h1>


<h2 class="highlighterred">Problems</h2>

- Microsoft Loop und Whiteboard users experienced problems using those two
   services, when connected to Tocco-Wifi

- This seems to be somhow related to MTU time. Which is per default 1500 
   when I switched it to 1480 on my local ubuntu Interface, it worked also in Tocco-Wifi

- It seems to always work when connected to <i>Tocco-Guest-Wifi</i>. Therefore we
   told the users to just switch to <i>Tocco-Guets-Wifi</i> for the meantime. Because
   fixing this has something to do with normal <b>Tocco-Wifi</b> being differently setup
   via IPV6 then <i>Tocco-Guest-Wifi</i> and therefore the Problems

- Also there was a kind of "Ethic - Windows is bad, we dont adjust MTU on Firewall for this 
  ,it works for everything else " dispute in Devops intern...
</pre></div>
</div>
</div>

<!--## autorestore.vm.tocco.ch #################################################################################################################-->
<div class="foldable-container" id="foldcontainer-autorestore.vm.tocco.ch">
<h2 class="foldable-title" id="foldable-title-autorestore.vm.tocco.ch">autorestore.vm.tocco.ch</h2>
<button class="foldable-content-unfoldbutton" id="foldable-content-unfoldbutton-newchapter" onclick="toggleFoldableContent('autorestore.vm.tocco.ch')" type="button">
<svg class="arrow-icon" fill="currentColor" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M7 10l5 5 5-5H7z"></path>
</svg>
</button>
<button class="foldable-content-edittoggle" onclick="fetchEditableContent('Servers','editable-paragraph-autorestore.vm.tocco.ch', 'foldable-content-penButton-autorestore.vm.tocco.ch')" type="button">
<svg class="wrench-icon" fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M22.7 19.3l-4.1-4.1c.6-1.1.9-2.3.9-3.5 0-3.9-3.1-7-7-7-1.3 0-2.5.3-3.5.9l3.3 3.3-4 4-3.3-3.3C4.3 10.5 4 11.7 4 13c0 3.9 3.1 7 7 7 1.3 0 2.5-.3 3.5-.9l4.1 4.1c.4.4 1 .4 1.4 0l2.7-2.7c.4-.4.4-1 0-1.4z"></path>
</svg>
</button>
<button class="create-subdiv" id="create-subdiv-autorestore.vm.tocco.ch" onclick="add_subdiv('editable-paragraph-autorestore.vm.tocco.ch')" type='*button"'>
<svg class="add-tag-icon" fill="none" height="22" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<!-- < and > symbols -->
<path d="M6 8l-4 4 4 4"></path> <!-- Left angle bracket -->
<path d="M18 8l4 4-4 4"></path> <!-- Right angle bracket -->
<!-- Plus sign in center -->
<path d="M12 10v4"></path>
<path d="M10 12h4"></path>
</svg>
</button>
<div class="foldable-content folded" id="foldable-content-autorestore.vm.tocco.ch">
<button class="foldable-content-penButton-hidden" id="foldable-content-penButton-autorestore.vm.tocco.ch" onclick="save_editable_content('Servers','editable-paragraph-autorestore.vm.tocco.ch', 'page-folder')" type="button">
<svg fill="none" height="30" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="30" xmlns="http://www.w3.org/2000/svg">
<path d="M12 20h9"></path>
<path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"></path>
</svg>
</button>
<div class="editable-paragraph" contenteditable="false" id="editable-paragraph-autorestore.vm.tocco.ch"><html><head></head><body><pre>Check infos at: <a href="https://devops-docs.tocco.ch/hosts/autorestore.html"> Tocco-Devops-Docs</a>

<h3>Additional Infos </h3>

 - make sure that user <b>autorestore</b> has the following groups(should be done via Ansible):

     - psql-admin
     - postgres

- make sure that <i>/var/lib/postgresql</i> is owned by <b>postgres</b> and that group <b>postgres</b>
  has write access (775)

- directly mount the "bigger" Disk, so that <i>/var/lib/postgresql</i> is always on it. Since this is the location
   the dumps get extracted too ( needs space ). 
</pre></body></html></div>
</div>
</div>
</body></html><!--## Space-Issues-Runners #################################################################################################################-->